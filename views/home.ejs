<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<style>
    button.btn.btn-primary.my-5 {
    width: 140px;
}
</style>
<body>
    <div class="container-fluid bg-primary text-light">
        <div class="row text-center">      
                <h2 class="p-3 fw-bold">GALLERY MANAGEMENT</h2>
        </div>
    </div>    
        <div class="container-fluid bg-dark text-light">
            <div class="row text-center p-5">
                <div class="col">                  
                    <h2>Upload Image</h2> 
                </div>
                <div class="col">
                    <form action="/gallery/uploadImage" method="POST" enctype='multipart/form-data'>
                        <input type="file" name="avatar" accept="image/x-png,image/gif,image/jpeg"/>                                                                                
                </div>
                <div class="col">

                    <label>Name:</label>
                    <input type="text" name="name"/> 
                    <input type="number" name="id" id="id"/>       
                    <div class="row p-3">
                        <button type="submit" class="btn btn-primary">Upload</button>         
                    </form>  
                    </div>

                </div>
            </div>
        </div>
    <section>
        <div class="container-fluid">
           <div class="row">
            <div class="col d-flex justify-content-around align-items-center bg-dark text-light border border-2 border-primary p-3">
                <h2>Uploaded Image:</h2>
                <img src="<%= image%>" alt="upcoming image" height="auto" width="400px" />   
            </div>
           </div>   
        </div>
    </section>  
    <section>
        <div class="container-fluid bg-dark">
            <div class="row justify-content-center">
                <form action="/gallery/loadImages/<%= data%>" method="GET" enctype='multipart/form-data'>
                <button type="submit" class="btn btn-primary my-5">
                Show Gallery</button>   
                </form>
            </div>
        </div>
    </section>
    
    <script>
        let data =JSON.parse('<%- JSON.stringify(data) %>')
        localStorage.setItem("data", JSON.stringify(data))
   

        document.getElementById("id").value= parseInt(data)
        const idBox = document.getElementById("id");
        idBox.style.display = "none";
        console.log("<%= image%>")
        console.log(typeof("<%= image%>"))
      </script>
   
</body>
</html>